/*

  Это выполненное сквозное задание №3 с использованием псевдокода.  
  Рекомендации: попробовать сделать задание без него. Если вы застряли или потратили много времени воспользуйтесь им.
	
*/


НАЧАЛО ПРОГРАММЫ

    // 1. ИНИЦИАЛИЗАЦИЯ ДАННЫХ
    ОБЪЯВИТЬ КОНСТАНТЫ (проценты и лимиты комиссий)
    
    ОБЪЯВИТЬ МАССИВЫ (используя var):
        amounts     <- [список сумм]
        currencies  <- [список валют]
        statuses    <- [список статусов]
        clientNames <- [список имен]
        
    ОБЪЯВИТЬ МАССИВ fees (размером как amounts) для хранения результатов
    ОБЪЯВИТЬ МАССИВ validCurrencies = ["RUB", "USD", "EUR"]

    // 2. ОСНОВНОЙ ЦИКЛ ОБРАБОТКИ (for по индексу i)
    ДЛЯ i ОТ 0 ДО ДЛИНЫ МАССИВА:
        
        ИЗВЛЕЧЬ текущие данные: amount, currency, status, clientName
        
        // Валидация данных
        ЕСЛИ clientName ПУСТОЙ (использовать isBlank):
            ВЫВЕСТИ "Ошибка данных"
            ПЕРЕЙТИ К СЛЕДУЮЩЕМУ (continue)
            
        ЕСЛИ status РАВЕН "FAILED":
            ВЫВЕСТИ "Платеж отклонен"
            ПЕРЕЙТИ К СЛЕДУЮЩЕМУ (continue)
            
        ЕСЛИ amount РАВЕН 0:
            ВЫВЕСТИ "Критическая ошибка: нулевая сумма"
            ПРЕРВАТЬ ЦИКЛ (break)
            
        // Проверка валюты
        ЕСЛИ currency НЕТ В МАССИВЕ validCurrencies:
            ВЫВЕСТИ "Неподдерживаемая валюта"
            ПЕРЕЙТИ К СЛЕДУЮЩЕМУ (continue)

        // Работа со строками (Форматирование имени)
        ОЧИСТИТЬ clientName от лишних пробелов (использовать strip)
        РАЗБИТЬ строку на части по пробелу (split)
        
        ЕСЛИ частей >= 2:
            lastName <- ПЕРВАЯ ЧАСТЬ в ВЕРХНЕМ РЕГИСТРЕ
            initials <- ПЕРВАЯ БУКВА фамилии + "." + ПЕРВАЯ БУКВА имени + "."
            formattedName <- lastName + " " + initials
        ИНАЧЕ:
            formattedName <- clientName в ВЕРХНЕМ РЕГИСТРЕ

        // Расчет экономики (Switch Expression)
        ОПРЕДЕЛИТЬ feePercent на основе currency
        
        ЕСЛИ status РАВЕН "NEW":
            РАССЧИТАТЬ fee = (amount * feePercent) / 100
            ОПРЕДЕЛИТЬ minFee на основе currency
            ЕСЛИ fee < minFee: fee = minFee
        ИНАЧЕ:
            fee = 0
            
        // Сохранение результата
        СОХРАНИТЬ fee В МАССИВ fees[i]
        
        ВЫВЕСТИ детальную строку: "Платеж i: клиент=formattedName, сумма=..., комиссия=..."

    // 3. ИТОГОВЫЙ ОТЧЕТ
    ВЫВЕСТИ "=== ИТОГОВЫЙ ОТЧЕТ ==="
    ОБНУЛИТЬ totalFees
    
    ДЛЯ КАЖДОГО f В МАССИВЕ fees (for-each):
        ЕСЛИ f > 0:
            ВЫВЕСТИ "Комиссия: " + f
            ПРИБАВИТЬ f К totalFees
            
    ВЫВЕСТИ "Итого собрано комиссий: " + totalFees

    // 4. ПРИМЕР ОШИБКИ (Закомментировано)
    // Показать попытку вызвать метод у null элемента массива

КОНЕЦ ПРОГРАММЫ